{"dependencies":[{"name":"zustand","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":33,"index":33}}],"key":"POPvx7yS3Y3wz+S/9OAefiXNs0Q=","exportNames":["*"],"imports":1}},{"name":"../utils/storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":34},"end":{"line":2,"column":39,"index":73}}],"key":"rswhtWQFlk40P6/ZSXiz3NZSC0I=","exportNames":["*"],"imports":1}},{"name":"../utils/api","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":74},"end":{"line":3,"column":31,"index":105}}],"key":"XoJ+jbKCrEi38eKczMqtlbk+TCk=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"useAuthStore\", {\n    enumerable: true,\n    get: function () {\n      return useAuthStore;\n    }\n  });\n  var _zustand = require(_dependencyMap[0], \"zustand\");\n  var _utilsStorage = require(_dependencyMap[1], \"../utils/storage\");\n  var storage = _interopDefault(_utilsStorage);\n  var _utilsApi = require(_dependencyMap[2], \"../utils/api\");\n  var api = _interopDefault(_utilsApi);\n  const useAuthStore = (0, _zustand.create)(set => ({\n    user: null,\n    token: null,\n    isLoading: true,\n    isAuthenticated: false,\n    login: async (email, password) => {\n      try {\n        const response = await api.default.post('/auth/login', {\n          email,\n          password\n        });\n        const {\n          access_token,\n          user\n        } = response.data;\n        await storage.default.setItem('token', access_token);\n        set({\n          user,\n          token: access_token,\n          isAuthenticated: true\n        });\n      } catch (error) {\n        throw new Error(error.response?.data?.detail || 'Falha no login');\n      }\n    },\n    register: async (email, password, name, barbershop_name) => {\n      try {\n        const response = await api.default.post('/auth/register', {\n          email,\n          password,\n          name,\n          barbershop_name\n        });\n        const {\n          access_token,\n          user\n        } = response.data;\n        await storage.default.setItem('token', access_token);\n        set({\n          user,\n          token: access_token,\n          isAuthenticated: true\n        });\n      } catch (error) {\n        throw new Error(error.response?.data?.detail || 'Falha no registro');\n      }\n    },\n    logout: async () => {\n      await storage.default.deleteItem('token');\n      set({\n        user: null,\n        token: null,\n        isAuthenticated: false\n      });\n    },\n    loadUser: async () => {\n      try {\n        const token = await storage.default.getItem('token');\n        if (token) {\n          const response = await api.default.get('/auth/me');\n          set({\n            user: response.data,\n            token,\n            isAuthenticated: true,\n            isLoading: false\n          });\n        } else {\n          set({\n            isLoading: false\n          });\n        }\n      } catch (error) {\n        await storage.default.deleteItem('token');\n        set({\n          user: null,\n          token: null,\n          isAuthenticated: false,\n          isLoading: false\n        });\n      }\n    }\n  }));\n});","lineCount":105,"map":[[12,2,23,0,"Object"],[12,8,23,0],[12,9,23,0,"defineProperty"],[12,23,23,0],[12,24,23,0,"exports"],[12,31,23,0],[13,4,23,0,"enumerable"],[13,14,23,0],[14,4,23,0,"get"],[14,7,23,0],[14,18,23,0,"get"],[14,19,23,0],[15,6,23,0],[15,13,23,0,"useAuthStore"],[15,25,23,0],[16,4,23,0],[17,2,23,0],[18,2,1,0],[18,6,1,0,"_zustand"],[18,14,1,0],[18,17,1,0,"require"],[18,24,1,0],[18,25,1,0,"_dependencyMap"],[18,39,1,0],[19,2,2,0],[19,6,2,0,"_utilsStorage"],[19,19,2,0],[19,22,2,0,"require"],[19,29,2,0],[19,30,2,0,"_dependencyMap"],[19,44,2,0],[20,2,2,0],[20,6,2,0,"storage"],[20,13,2,0],[20,16,2,0,"_interopDefault"],[20,31,2,0],[20,32,2,0,"_utilsStorage"],[20,45,2,0],[21,2,3,0],[21,6,3,0,"_utilsApi"],[21,15,3,0],[21,18,3,0,"require"],[21,25,3,0],[21,26,3,0,"_dependencyMap"],[21,40,3,0],[22,2,3,0],[22,6,3,0,"api"],[22,9,3,0],[22,12,3,0,"_interopDefault"],[22,27,3,0],[22,28,3,0,"_utilsApi"],[22,37,3,0],[23,2,23,7],[23,8,23,13,"useAuthStore"],[23,20,23,25],[23,23,23,28],[23,27,23,28,"create"],[23,35,23,34],[23,36,23,34,"create"],[23,42,23,34],[23,44,23,47,"set"],[23,47,23,50],[23,52,23,56],[24,4,24,2,"user"],[24,8,24,6],[24,10,24,8],[24,14,24,12],[25,4,25,2,"token"],[25,9,25,7],[25,11,25,9],[25,15,25,13],[26,4,26,2,"isLoading"],[26,13,26,11],[26,15,26,13],[26,19,26,17],[27,4,27,2,"isAuthenticated"],[27,19,27,17],[27,21,27,19],[27,26,27,24],[28,4,29,2,"login"],[28,9,29,7],[28,11,29,9],[28,17,29,9,"login"],[28,18,29,16,"email"],[28,23,29,29],[28,25,29,31,"password"],[28,33,29,47],[28,38,29,52],[29,6,30,4],[29,10,30,8],[30,8,31,6],[30,14,31,12,"response"],[30,22,31,20],[30,25,31,23],[30,31,31,29,"api"],[30,34,31,32],[30,35,31,32,"default"],[30,42,31,32],[30,43,31,33,"post"],[30,47,31,37],[30,48,31,38],[30,61,31,51],[30,63,31,53],[31,10,31,55,"email"],[31,15,31,60],[32,10,31,62,"password"],[33,8,31,71],[33,9,31,72],[33,10,31,73],[34,8,32,6],[34,14,32,12],[35,10,32,14,"access_token"],[35,22,32,26],[36,10,32,28,"user"],[37,8,32,33],[37,9,32,34],[37,12,32,37,"response"],[37,20,32,45],[37,21,32,46,"data"],[37,25,32,50],[38,8,34,6],[38,14,34,12,"storage"],[38,21,34,19],[38,22,34,19,"default"],[38,29,34,19],[38,30,34,20,"setItem"],[38,37,34,27],[38,38,34,28],[38,45,34,35],[38,47,34,37,"access_token"],[38,59,34,49],[38,60,34,50],[39,8,35,6,"set"],[39,11,35,9],[39,12,35,10],[40,10,35,12,"user"],[40,14,35,16],[41,10,35,18,"token"],[41,15,35,23],[41,17,35,25,"access_token"],[41,29,35,37],[42,10,35,39,"isAuthenticated"],[42,25,35,54],[42,27,35,56],[43,8,35,61],[43,9,35,62],[43,10,35,63],[44,6,36,4],[44,7,36,5],[44,8,36,6],[44,15,36,13,"error"],[44,20,36,23],[44,22,36,25],[45,8,37,6],[45,14,37,12],[45,18,37,16,"Error"],[45,23,37,21],[45,24,37,22,"error"],[45,29,37,27],[45,30,37,28,"response"],[45,38,37,36],[45,40,37,38,"data"],[45,44,37,42],[45,46,37,44,"detail"],[45,52,37,50],[45,56,37,54],[45,72,37,70],[45,73,37,71],[46,6,38,4],[47,4,39,2],[47,5,39,3],[48,4,41,2,"register"],[48,12,41,10],[48,14,41,12],[48,20,41,12,"register"],[48,21,41,19,"email"],[48,26,41,32],[48,28,41,34,"password"],[48,36,41,50],[48,38,41,52,"name"],[48,42,41,64],[48,44,41,66,"barbershop_name"],[48,59,41,90],[48,64,41,95],[49,6,42,4],[49,10,42,8],[50,8,43,6],[50,14,43,12,"response"],[50,22,43,20],[50,25,43,23],[50,31,43,29,"api"],[50,34,43,32],[50,35,43,32,"default"],[50,42,43,32],[50,43,43,33,"post"],[50,47,43,37],[50,48,43,38],[50,64,43,54],[50,66,43,56],[51,10,44,8,"email"],[51,15,44,13],[52,10,45,8,"password"],[52,18,45,16],[53,10,46,8,"name"],[53,14,46,12],[54,10,47,8,"barbershop_name"],[55,8,48,6],[55,9,48,7],[55,10,48,8],[56,8,49,6],[56,14,49,12],[57,10,49,14,"access_token"],[57,22,49,26],[58,10,49,28,"user"],[59,8,49,33],[59,9,49,34],[59,12,49,37,"response"],[59,20,49,45],[59,21,49,46,"data"],[59,25,49,50],[60,8,51,6],[60,14,51,12,"storage"],[60,21,51,19],[60,22,51,19,"default"],[60,29,51,19],[60,30,51,20,"setItem"],[60,37,51,27],[60,38,51,28],[60,45,51,35],[60,47,51,37,"access_token"],[60,59,51,49],[60,60,51,50],[61,8,52,6,"set"],[61,11,52,9],[61,12,52,10],[62,10,52,12,"user"],[62,14,52,16],[63,10,52,18,"token"],[63,15,52,23],[63,17,52,25,"access_token"],[63,29,52,37],[64,10,52,39,"isAuthenticated"],[64,25,52,54],[64,27,52,56],[65,8,52,61],[65,9,52,62],[65,10,52,63],[66,6,53,4],[66,7,53,5],[66,8,53,6],[66,15,53,13,"error"],[66,20,53,23],[66,22,53,25],[67,8,54,6],[67,14,54,12],[67,18,54,16,"Error"],[67,23,54,21],[67,24,54,22,"error"],[67,29,54,27],[67,30,54,28,"response"],[67,38,54,36],[67,40,54,38,"data"],[67,44,54,42],[67,46,54,44,"detail"],[67,52,54,50],[67,56,54,54],[67,75,54,73],[67,76,54,74],[68,6,55,4],[69,4,56,2],[69,5,56,3],[70,4,58,2,"logout"],[70,10,58,8],[70,12,58,10],[70,18,58,10,"logout"],[70,19,58,10],[70,24,58,22],[71,6,59,4],[71,12,59,10,"storage"],[71,19,59,17],[71,20,59,17,"default"],[71,27,59,17],[71,28,59,18,"deleteItem"],[71,38,59,28],[71,39,59,29],[71,46,59,36],[71,47,59,37],[72,6,60,4,"set"],[72,9,60,7],[72,10,60,8],[73,8,60,10,"user"],[73,12,60,14],[73,14,60,16],[73,18,60,20],[74,8,60,22,"token"],[74,13,60,27],[74,15,60,29],[74,19,60,33],[75,8,60,35,"isAuthenticated"],[75,23,60,50],[75,25,60,52],[76,6,60,58],[76,7,60,59],[76,8,60,60],[77,4,61,2],[77,5,61,3],[78,4,63,2,"loadUser"],[78,12,63,10],[78,14,63,12],[78,20,63,12,"loadUser"],[78,21,63,12],[78,26,63,24],[79,6,64,4],[79,10,64,8],[80,8,65,6],[80,14,65,12,"token"],[80,19,65,17],[80,22,65,20],[80,28,65,26,"storage"],[80,35,65,33],[80,36,65,33,"default"],[80,43,65,33],[80,44,65,34,"getItem"],[80,51,65,41],[80,52,65,42],[80,59,65,49],[80,60,65,50],[81,8,66,6],[81,12,66,10,"token"],[81,17,66,15],[81,19,66,17],[82,10,67,8],[82,16,67,14,"response"],[82,24,67,22],[82,27,67,25],[82,33,67,31,"api"],[82,36,67,34],[82,37,67,34,"default"],[82,44,67,34],[82,45,67,35,"get"],[82,48,67,38],[82,49,67,39],[82,59,67,49],[82,60,67,50],[83,10,68,8,"set"],[83,13,68,11],[83,14,68,12],[84,12,68,14,"user"],[84,16,68,18],[84,18,68,20,"response"],[84,26,68,28],[84,27,68,29,"data"],[84,31,68,33],[85,12,68,35,"token"],[85,17,68,40],[86,12,68,42,"isAuthenticated"],[86,27,68,57],[86,29,68,59],[86,33,68,63],[87,12,68,65,"isLoading"],[87,21,68,74],[87,23,68,76],[88,10,68,82],[88,11,68,83],[88,12,68,84],[89,8,69,6],[89,9,69,7],[89,15,69,13],[90,10,70,8,"set"],[90,13,70,11],[90,14,70,12],[91,12,70,14,"isLoading"],[91,21,70,23],[91,23,70,25],[92,10,70,31],[92,11,70,32],[92,12,70,33],[93,8,71,6],[94,6,72,4],[94,7,72,5],[94,8,72,6],[94,15,72,13,"error"],[94,20,72,18],[94,22,72,20],[95,8,73,6],[95,14,73,12,"storage"],[95,21,73,19],[95,22,73,19,"default"],[95,29,73,19],[95,30,73,20,"deleteItem"],[95,40,73,30],[95,41,73,31],[95,48,73,38],[95,49,73,39],[96,8,74,6,"set"],[96,11,74,9],[96,12,74,10],[97,10,74,12,"user"],[97,14,74,16],[97,16,74,18],[97,20,74,22],[98,10,74,24,"token"],[98,15,74,29],[98,17,74,31],[98,21,74,35],[99,10,74,37,"isAuthenticated"],[99,25,74,52],[99,27,74,54],[99,32,74,59],[100,10,74,61,"isLoading"],[100,19,74,70],[100,21,74,72],[101,8,74,78],[101,9,74,79],[101,10,74,80],[102,6,75,4],[103,4,76,2],[104,2,77,0],[104,3,77,1],[104,4,77,2],[104,5,77,3],[105,0,77,4],[105,3]],"functionMap":{"names":["<global>","create$argument_0","login","register","logout","loadUser"],"mappings":"AAA;8CCsB;SCM;GDU;YEE;GFe;UGE;GHG;YIE;GJa;EDC"},"hasCjsExports":false},"type":"js/module"}]}